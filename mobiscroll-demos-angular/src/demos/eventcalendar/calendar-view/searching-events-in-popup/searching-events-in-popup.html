<mbsc-page>
  <mbsc-eventcalendar
    #calendar
    [data]="calEvents"
    [view]="calView"
    [headerTemplate]="myHeader"
    [selectMultipleEvents]="true"
    [(selectedEvents)]="mySelectedEvent"
    class="md-search-events"
    (onPageLoading)="onPageLoading($event)"
    [clickToCreate]="false"
    [dragToCreate]="false"
    [dragToMove]="false"
    [dragToResize]="false"
  >
    <ng-template #myHeader>
      <mbsc-calendar-nav></mbsc-calendar-nav>
      <div class="md-seach-header-bar mbsc-flex-1-0">
        <mbsc-input
          #searchInput
          (input)="onSearch($event)"
          (focusin)="onFocus($event)"
          startIcon="material-search"
          inputStyle="box"
          placeholder="Search events"
        ></mbsc-input>
      </div>
      <mbsc-calendar-prev></mbsc-calendar-prev>
      <mbsc-calendar-today></mbsc-calendar-today>
      <mbsc-calendar-next></mbsc-calendar-next>
    </ng-template>
  </mbsc-eventcalendar>
  <mbsc-popup
    [options]="popupOptions"
    class="md-search-popup"
    [anchor]="searchInput"
    [focusElm]="searchInput"
    #popup
    (onInit)="initPopup()"
  >
    <mbsc-eventcalendar
      [data]="listEvents"
      [view]="listView"
      [showControls]="false"
      class="mbsc-popover-list"
      (onEventClick)="eventClick($event)"
    ></mbsc-eventcalendar>
  </mbsc-popup>
</mbsc-page>
